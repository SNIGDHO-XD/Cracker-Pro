import base64
exec(base64.b64decode("IyBEZWNvbXBpbGUgYnkgTWFyZGlzIChUb29scyBCeSBLYXB0ZW4tS2Fpem8pCiMgVGltZSBTdWNjZXMgZGVjb21waWxlIDogMjAyMi0wNi0xNyAyMDowMDowNC4xMTgxMDQKdHJ5OgogICAgaW1wb3J0IG9zLCBzeXMsIHRpbWUsIHBsYXRmb3JtLCBkYXRldGltZSwgcmFuZG9tLCBoYXNobGliLCByZSwgdGhyZWFkaW5nLCBqc29uLCBnZXRwYXNzLCB1cmxsaWIsIGNvb2tpZWxpYiwgcmVxdWVzdHMsIHV1aWQsIHN0cmluZywgc3VicHJvY2VzcwogICAgZnJvbSBtdWx0aXByb2Nlc3NpbmcucG9vbCBpbXBvcnQgVGhyZWFkUG9vbAogICAgZnJvbSByZXF1ZXN0cy5leGNlcHRpb25zIGltcG9ydCBDb25uZWN0aW9uRXJyb3IKZXhjZXB0IEltcG9ydEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAyIGluc3RhbGwgcmVxdWVzdHMgbG9sY2F0JykKICAgIG9zLnN5c3RlbSgncHl0aG9uMiBkdXJsb3ZlLnB5JykKCmZyb20gb3MgaW1wb3J0IHN5c3RlbQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCgpkZWYgeG94KHopOgogICAgZm9yIGUgaW4geiArICdcbic6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMC4wNCkKCgp1c2VyX2FnZW50ID0gWwogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQ7IHJ2OjkyLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvOTIuMCcsICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IFNNLUc5NzNGIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84Ni4wLjQyNDAuMTk4IE1vYmlsZSBTYWZhcmkvNTM3LjM2IEluc3RhZ3JhbSAxNjYuMS4wLjQyLjI0NSBBbmRyb2lkICgyOS8xMDsgNDIwZHBpOyAxMDgweDIwNDI7IHNhbXN1bmc7IFNNLUc5NzNGOyBiZXlvbmQxOyBleHlub3M5ODIwOyBlbl9HQjsgMjU2MDk5MjA0KScsICdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8xMDAwNDUyMDM4NTUyOTQvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPSddCnVzZXJhZ2VudF91cmwgPSB1c2VyX2FnZW50WzJdCmhlYWRlciA9IHsneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICd4LWZiLXNpbS1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywgJ3VzZXItYWdlbnQnOiAnRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA1LjEuMTsgU00tSjMyMEYgQnVpbGQvTE1ZNDdWKSBbRkJBTi9GQjRBO0ZCQVYvNDMuMC4wLjI5LjE0NztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJMQy9lbl9HQjtGQkJWLzE0Mjc0MTYxO0ZCQ1IvVGVsZTIgTFQ7RkJNRi9zYW1zdW5nO0ZCQkQvc2Ftc3VuZztGQkRWL1NNLUozMjBGO0ZCU1YvNS4wO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD0xMDgwLGhlaWdodD0xOTIwfTtGQl9GVy8xO10nLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KdHJ5OgogICAgcmVxdWVzdHMuZ2V0KCdodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPUF6aW0rVmF1JykKICAgIHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9tLnlvdXR1YmUuY29tL3Jlc3VsdHM/c2VhcmNoX3F1ZXJ5PUF6aW0rVmF1K01yLitFcnJvcicpCmV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgeG94KCdcblx0XHgxYls5MzsxbSAgTk8gSU5URVJORVQgQ09OTkVDVElPTiA6KFxuXG4nKQogICAgc3lzLmV4aXQoKQoKaXAgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZycpLnRleHQuc3RyaXAoKQpsb2MgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vaXBhcGkuY29tL2lwX2FwaS5waHA/aXA9JyArIGlwLCBoZWFkZXJzPXsnUmVmZXJlcic6ICdodHRwczovL2lwLWFwaS5jb20vJywgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMS4yOyBSZWRtaSA0WCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS45MiBNb2JpbGUgU2FmYXJpLzUzNy4zNid9KS5qc29uKClbJ2NvdW50cnlfbmFtZSddLnVwcGVyKCkKCmRlZiBsaW5leCgpOgogICAgb3Muc3lzdGVtKCdlY2hvICAiXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiIgfCBsb2xjYXQgLWEgLWQgMiAtcyA1MCcpCgoKZGVmIGxvZ28oKToKICAgIG9zLnN5c3RlbSgnZWNobyAiXG5ceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggIFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCAgICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICAgICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4IFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCBcblx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCAgIFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4IFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCAgIFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICAgICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4IFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCAgICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgICAgIFxuXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4IFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCAgICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICAgICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4IFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCAgICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgXG5ceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgIFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgIFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggIFx4ZTJceDk2XHg4OFx4ZTJceDk2XHg4OCAgICAgIFxuXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICBceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODhceGUyXHg5Nlx4ODggICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgXHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4XHhlMlx4OTZceDg4ICAgXG4gICAgXHhlMlx4OTVceDk0XHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDk3XG4gICAgXHhlMlx4OTVceDkxIFRPT0wgTkFNRTogeyBEVVJMT1ZFIH0gICAgICBceGUyXHg5NVx4OTFcbiAgICBceGUyXHg5NVx4OTEgQVVUSE9SICAgOiBEVVJMT1ZFICAgICAgICAgIFx4ZTJceDk1XHg5MVxuICAgIFx4ZTJceDk1XHg5MSBGQUNFQk9PSyA6IERVUkxPVkUgQUNIQVJZQSAgXHhlMlx4OTVceDkxXG4gICAgXHhlMlx4OTVceDlhXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDkwXHhlMlx4OTVceDlkIiB8IGxvbGNhdCAtYSAtZCAyIC1zIDUwJykKCgpkZWYgbWFpbigpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBsb2dvKCkKICAgIHByaW50ICdcdFx4MWJbOTM7MW0gICAgICBNQUlOIE1FTlVceDFiWzBtJwogICAgcHJpbnQgJycKICAgIG9zLnN5c3RlbSgnZWNobyAtZSAiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQogICAgcHJpbnQgJ1x4MWJbOTI7MW0gIFsxXSBTVEFSVCBDUkFDSycKICAgIHByaW50ICdceDFiWzkzOzFtICBbMl0gSE9XIFRPIEdFVCBBQ0NFU1MgVE9LRU4nCiAgICBwcmludCAnXHgxYls5NDsxbSAgWzNdIFVQREFURSBUT09MJwogICAgcHJpbnQgJ1x4MWJbOTY7MW0gIFs0XSBGT0xMT1cgTUUgT04gRkFDRUJPT0sgJwogICAgcHJpbnQgJ1x4MWJbOTA7MW0gIFswXSBFWElUJwogICAgb3Muc3lzdGVtKCdlY2hvIC1lICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpCiAgICBwcmludCAnJwogICAgbG9nX3NlbCgpCgoKZGVmIGxvZ19zZWwoKToKICAgIGdsb2JhbCB0b2tlbgogICAgc2VsID0gcmF3X2lucHV0KCdceDFiWzkzOzFtICBDSE9PU0U6IFx4MWJbOTI7MW0nKQogICAgaWYgc2VsID09ICcnOgogICAgICAgIHByaW50ICdcdFx4MWJbOTE7MW0gIFNFTEVDVCBBTiBPUFRJT04gU1RVUElEIC1fJwogICAgICAgIGxvZ19zZWwoKQogICAgZWxpZiBzZWwgPT0gJzEnIG9yIHNlbCA9PSAnMDEnOgogICAgICAgIHRva2VuKCkKICAgIGVsaWYgc2VsID09ICcyJyBvciBzZWwgPT0gJzAyJzoKICAgICAgICBzdWJwcm9jZXNzLmNoZWNrX291dHB1dChbJ2FtJywgJ3N0YXJ0JywgJ2h0dHBzOi8veW91dHUuYmUvVUNjOW13VEk3Z2ZBQmpacXNkS1diOW1RJ10pCiAgICAgICAgbWFpbigpCiAgICBlbGlmIHNlbCA9PSAnMycgb3Igc2VsID09ICcwMyc6CiAgICAgICAgaW1wb3J0IG9zCiAgICAgICAgdHJ5OgogICAgICAgICAgICBvcy5zeXN0ZW0oJ2dpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vU05JR0RITy1YRCcpCiAgICAgICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIFNOSUdESE8ucHknKQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NwIC1TTklHREhPL1NOSUdESE8ucHkgXFwuJykKICAgICAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgJ1NOSUdESE8nKQogICAgICAgICAgICB4b3goJ1x4MWJbOTI7MW1cbiBUT09MIFVQREFURSBTVUNDRVNTRlVMIDopXG4nKQogICAgICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgICAgIG1haW4oKQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgcHJpbnQgJ1x4MWJbOTE7MW1cbiBZT1VSIERFVklDRSBJUyBOT1QgU1VQUE9SVEVEIVxuJwogICAgICAgICAgICBtYWluKCkKCiAgICBlbGlmIHNlbCA9PSAnNCcgb3Igc2VsID09ICcwNCcgb3Igc2VsID09ICdKJyBvciBzZWwgPT0gJ2onOgogICAgICAgIHN1YnByb2Nlc3MuY2hlY2tfb3V0cHV0KFsnYW0nLCAnc3RhcnQnLCAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA2OTE1NjkzNDE3MyddKQogICAgICAgIG1haW4oKQogICAgZWxpZiBzZWwgPT0gJzAnIG9yIHNlbCA9PSAnMDAnOgogICAgICAgIHhveCgnXG5cdFx4MWJbOTE7MW0gR09PRCBCWUUgU0VFIFlPVSBBR0FJTiA6KScpCiAgICAgICAgc3lzLmV4aXQoKQogICAgZWxzZToKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICdcdFx4MWJbOTE7MW0gIFNFTEVDVCBWQUxJRCBPUFRJT04nCiAgICAgICAgcHJpbnQgJycKICAgICAgICBsb2dfc2VsKCkKCgpkZWYgdG9rZW4oKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgdHJ5OgogICAgICAgIHRva2VuID0gb3BlbignU05JR0RIT190b2tlbi50eHQnLCAncicpLnJlYWQoKQogICAgICAgIG1lbnUoKQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgbG9nbygpCiAgICAgICAgcHJpbnQgJycKICAgICAgICBwcmludCAnXHRceDFiWzkyOzFtICBMT0dJTiBUT0tFTicKICAgICAgICBwcmludCAnJwogICAgICAgIHRva2VuID0gcmF3X2lucHV0KCdceDFiWzkzOzFtIFBBU1RFIFRPS0VOIEhFUkU6IFx4MWJbOTI7MW0nKQogICAgICAgIHNhdiA9IG9wZW4oJ0RVUkxPVkVfdG9rZW4udHh0JywgJ3cnKQogICAgICAgIHNhdi53cml0ZSh0b2tlbikKICAgICAgICBzYXYuY2xvc2UoKQogICAgICAgIHRva2VuX2NoZWNrKCkKICAgICAgICBtZW51KCkKCgpkZWYgdG9rZW5fY2hlY2soKToKICAgIHRyeToKICAgICAgICB0b2tlbiA9IG9wZW4oJ1NOSUdESE9fdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICdceDFiWzkxOzFtWyFdIFRPS0VOIElOVkFMSUQnCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgU05JR0RIT190b2tlbi50eHQnKQoKICAgIHJlcXVlc3RzLnBvc3QodXNlcmFnZW50X3VybCArIHRva2VuLCBoZWFkZXJzPWhlYWRlcikKCgpkZWYgbWVudSgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICB0cnk6CiAgICAgICAgdG9rZW4gPSBvcGVuKCdTTklHREhPX3Rva2VuLnR4dCcsICdyJykucmVhZCgpCiAgICBleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKICAgICAgICB0b2tlbigpCgogICAgdHJ5OgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pCiAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIG5hbWUgPSBxWyduYW1lJ10KICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICBsb2dvKCkKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICdceDFiWzkxOzFtICAgICBMT0dHRUQgSU4gVE9LRU4gSEFTIEVYUElSRUQnCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgU05JR0RIT190b2tlbi50eHQnKQogICAgICAgIHByaW50ICcnCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIG1haW4oKQoKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgeG4gPSBuYW1lLnVwcGVyKCkKICAgIGxvZ28oKQogICAgcHJpbnQgJycKICAgIHByaW50ICdceDFiWzkzOzFtICAgICBIRUxMTyAgIDogXHgxYls5MjsxbScgKyB4bgogICAgcHJpbnQgJ1x4MWJbOTM7MW0gICAgIFJFR0lPTiAgOiBceDFiWzkyOzFtJyArIGxvYwogICAgcHJpbnQgJ1x4MWJbOTM7MW0gICAgIFlPVVIgSVAgOiBceDFiWzkyOzFtJyArIGlwCiAgICBwcmludCAnJwogICAgcHJpbnQgJycKICAgIHByaW50ICdceDFiWzkyOzFtICBbMV0gQ1JBQ0sgV0lUSCBBVVRPIFBBU1MnCiAgICBwcmludCAnXHgxYls5MzsxbSAgWzJdIENSQUNLIFdJVEggRElHSVQgUEFTUycKICAgIHByaW50ICdceDFiWzkxOzFtICBbMF0gQkFDSycKICAgIHByaW50ICcnCiAgICBtZW51X29wdGlvbigpCgoKZGVmIG1lbnVfb3B0aW9uKCk6CiAgICBzZWxlY3QgPSByYXdfaW5wdXQoJ1x4MWJbOTI7MW0gIENIT09TRSA6ICcpCiAgICBpZiBzZWxlY3QgPT0gJzEnOgogICAgICAgIGNyYWNrMSgpCiAgICBlbGlmIHNlbGVjdCA9PSAnMic6CiAgICAgICAgY3JhY2soKQogICAgZWxpZiBzZWxlY3QgPT0gJzAnOgogICAgICAgIG1haW4oKQogICAgZWxzZToKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICdcdFx4MWJbOTE7MW0gICAgIFNFTEVDVCBWQUxJRCBPUFRJT04nCiAgICAgICAgcHJpbnQgJycKICAgICAgICBtZW51X29wdGlvbigpCgoKZGVmIGNyYWNrMSgpOgogICAgZ2xvYmFsIHRva2VuCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHRyeToKICAgICAgICB0b2tlbiA9IG9wZW4oJ1NOSUdESE9fdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0XHgxYls5MTsxbSAgVE9LRU4gTk9UIEZPVU5EICcKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgZmJfdG9rZW4oKQoKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgbG9nbygpCiAgICBwcmludCAnJwogICAgcHJpbnQgJ1x0XHgxYls5MzsxbSBDUkFDSyBXSVRIIEFVVE8gUEFTUycKICAgIHByaW50ICcnCiAgICBwcmludCAnXHgxYls5NDsxbSAgWzFdIENSQUNLIFBVQkxJQyBJRCcKICAgIHByaW50ICdceDFiWzkzOzFtICBbMl0gQ1JBQ0sgRk9MTE9XRVJTJwogICAgcHJpbnQgJ1x4MWJbOTI7MW0gIFszXSBDUkFDSyBGSUxFJwogICAgcHJpbnQgJycKICAgIGNyYWNrX3NlbGVjdDEoKQoKCmRlZiBjcmFja19zZWxlY3QxKCk6CiAgICBzZWxlY3QgPSByYXdfaW5wdXQoJ1x4MWJbOTI7MW0gIENIT09TRSA6ICcpCiAgICBpZCA9IFtdCiAgICBva3MgPSBbXQogICAgY3BzID0gW10KICAgIGlmIHNlbGVjdCA9PSAnMSc6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgbG9nbygpCiAgICAgICAgcHJpbnQgJycKICAgICAgICBwcmludCAnXHRceDFiWzkyOzFtIE1VTFRJIFBVQkxJQyBJRCBDT0lOSU5HICcKICAgICAgICBwcmludCAnJwogICAgICAgIHRyeToKICAgICAgICAgICAgaWRfbGltaXQgPSBpbnQocmF3X2lucHV0KCdceDFiWzkzOzFtICBFTlRFUiBMSU1JVCAoXHgxYls5MTsxbTUgTUFYXHgxYls5MzsxbSk6IFx4MWJbOTI7MW0nKSkKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGlkX2xpbWl0ID0gMQoKICAgICAgICBmb3IgdCBpbiByYW5nZShpZF9saW1pdCk6CiAgICAgICAgICAgIHQgKz0gMQogICAgICAgICAgICBpZHQgPSByYXdfaW5wdXQoJ1x4MWJbOTM7MW0gIElOUFVUIFBVQkxJQyBJRCAoXHgxYls5MjsxbSVzXHgxYls5MzsxbSkgOiBceDFiWzkyOzFtJyAlIHQpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGZvciBpIGluIHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKS5qc29uKClbJ2RhdGEnXToKICAgICAgICAgICAgICAgICAgICB1aWQgPSBpWydpZCddLmVuY29kZSgndXRmLTgnKQogICAgICAgICAgICAgICAgICAgIG5hID0gaVsnbmFtZSddLmVuY29kZSgndXRmLTgnKQogICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkKCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzkxOzFtICBQUklWQVRFIEZSSUVORCBMSVNUIFRSWSBBTk9USEVSIE9ORScKCiAgICAgICAgICAgIHByaW50ICdceDFiWzk0OzFtICBUT1RBTCBJRFMgIDogXHgxYlswOzkybSVzXHgxYlswOzk3bScgJSBsZW4oaWQpCgogICAgICAgIHRpbWUuc2xlZXAoMykKICAgIGVsaWYgc2VsZWN0ID09ICcyJzoKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBsb2dvKCkKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICcgICAgICBceDFiWzkyOzFtTVVMVEkgRk9MTE9XRVJTIElEIENPSU5JTkcgJwogICAgICAgIHByaW50ICcnCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZF9saW1pdCA9IGludChyYXdfaW5wdXQoJ1x4MWJbOTM7MW0gIEVOVEVSIExJTUlUIChceDFiWzkxOzFtNSBNQVhceDFiWzkzOzFtKTogXHgxYls5MjsxbScpKQogICAgICAgICAgICBwcmludCAnJwogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgaWRfbGltaXQgPSAxCgogICAgICAgIGZvciB0IGluIHJhbmdlKGlkX2xpbWl0KToKICAgICAgICAgICAgdCArPSAxCiAgICAgICAgICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYls5MzsxbSAgSU5QVVQgRk9MTE9XRVIgSUQgKFx4MWJbOTI7MW0lc1x4MWJbOTM7MW0pIDogXHgxYls5MjsxbScgJSB0KQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBmb3IgaSBpbiByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnL3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJmxpbWl0PTk5OTk5OScpLmpzb24oKVsnZGF0YSddOgogICAgICAgICAgICAgICAgICAgIHVpZCA9IGlbJ2lkJ10uZW5jb2RlKCd1dGYtOCcpCiAgICAgICAgICAgICAgICAgICAgbmEgPSBpWyduYW1lJ10uZW5jb2RlKCd1dGYtOCcpCiAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKHVpZCArICd8JyArIG5hKQoKICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbOTE7MW0gIFBSSVZBVEUgRlJJRU5EIExJU1QgVFJZIEFOT1RIRVIgT05FJwoKICAgICAgICAgICAgcHJpbnQgJ1x4MWJbOTQ7MW0gIFRPVEFMIElEUyAgOiBceDFiWzA7OTJtJXNceDFiWzA7OTdtJyAlIGxlbihpZCkKCiAgICAgICAgdGltZS5zbGVlcCgzKQogICAgZWxpZiBzZWxlY3QgPT0gJzMnOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIGxvZ28oKQogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0XHgxYls5MzsxbSAgIEFVVE8gUEFTUyBDUkFDS0lORycKICAgICAgICBwcmludCAnJwogICAgICAgIGZpbGVsaXN0ID0gcmF3X2lucHV0KCdceDFiWzkyOzFtICBJTlBVVCBGSUxFOiAnKQogICAgICAgIHRyeToKICAgICAgICAgICAgZm9yIGxpbmUgaW4gb3BlbihmaWxlbGlzdCwgJ3InKS5yZWFkbGluZXMoKToKICAgICAgICAgICAgICAgIGlkLmFwcGVuZChsaW5lLnN0cmlwKCkpCgogICAgICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgICAgICBwcmludCAnXHRceDFiWzkxOzFtICBSRVFVRVNURUQgRklMRSBOT1QgRk9VTkQnCiAgICAgICAgICAgIHByaW50ICcnCiAgICAgICAgICAgIHJhd19pbnB1dCgnXHgxYls5MzsxbSBQUkVTUyBFTlRFUiBUTyBCQUNLJykKICAgICAgICAgICAgY3JhY2sxKCkKCiAgICBlbGlmIHNlbGVjdCA9PSAnMCc6CiAgICAgICAgbWVudSgpCiAgICBlbHNlOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0XHgxYls5MTsxbSAgU0VMRUNUIFZBTElEIE9QVElPTicKICAgICAgICBwcmludCAnJwogICAgICAgIGNyYWNrX3NlbGVjdDEoKQogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBsb2dvKCkKICAgIHByaW50ICcnCiAgICBwcmludCAnXHgxYls5MzsxbSAgVE9UQUwgSURTIDogXHgxYls5MjsxbScgKyBzdHIobGVuKGlkKSkKICAgIHByaW50ICdceDFiWzkyOzFtICBCUlVURSBIQVMgQkVFTiBTVEFSVEVEXHgxYlswbScKICAgIHByaW50ICdceDFiWzk0OzFtICBXQUlUIEFORCBTRUUgXHgxYls5MjsxbVx4ZTJceDljXHg5OFx4MWJbOTE7MW1ceGUyXHg5Y1x4OThceDFiWzBtJwogICAgbGluZXgoKQoKICAgIGRlZiBtYWluKGFyZyk6CiAgICAgICAgdXNlciA9IGFyZwogICAgICAgIHVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoJ3wnKQogICAgICAgIF9EVVJMT1ZFdWEgPSByYW5kb20uY2hvaWNlKFsnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBSZWRtaSBOb3RlIDggUHJvIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84My4wLjQxMDMuMTA2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzI3NS4wLjAuNDkuMTI3O10nLCAnW0ZCQU4vRkI0QTtGQkFWLzI0Ni4wLjAuNDkuMTIxO0ZCQlYvMTgxNDQ4NDQ5O0ZCRE0ve2RlbnNpdHk9MS41LHdpZHRoPTU0MCxoZWlnaHQ9OTYwfTtGQkxDL2VuX1VTO0ZCUlYvMTgzMTE5NTE2O0ZCQ1IvVE07RkJNRi92aXZvO0ZCQkQvdml2bztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi92aXZvIDE2MDY7RkJTVi82LjAuMTtGQk9QLzE7RkJDQS9hcm1lYWJpLXY3YTphcm1lYWJpO10nLCAnRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA1LjEuMTsgU00tSjMyMEYgQnVpbGQvTE1ZNDdWKSBbRkJBTi9GQjRBO0ZCQVYvNDMuMC4wLjI5LjE0NztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJMQy9lbl9HQjtGQkJWLzE0Mjc0MTYxO0ZCQ1IvVGVsZTIgTFQ7RkJNRi9zYW1zdW5nO0ZCQkQvc2Ftc3VuZztGQkRWL1NNLUozMjBGO0ZCU1YvNS4wO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD0xMDgwLGhlaWdodD0xOTIwfTtGQl9GVy8xO10nLCAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMS4xOyBBMzdmIEJ1aWxkL0xNWTQ3Vjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTUyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzMwNS4xLjAuNDAuMTIwO10nLCAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBSRUFMTUUgUk1YMTkxMSBCdWlsZC9OTUYyNkYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Ni4wLjM4MDkuMTExIE1vYmlsZSBTYWZhcmkvNTM3LjM2IEFsb2hhQnJvd3Nlci8yLjIwLjMnLCAnTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxMV8zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlLzE1RTIxNiBbRkJBTi9GQklPUztGQkFWLzE3MC4wLjAuNjAuOTE7RkJCVi8xMDU5NjQ3NjQ7RkJEVi9pUGhvbmUxMCwxO0ZCTUQvaVBob25lO0ZCU04vaU9TO0ZCU1YvMTEuMztGQlNTLzI7RkJDUi9TcHJpbnQ7RkJJRC9waG9uZTtGQkxDL2VuX1VTO0ZCT1AvNTtGQlJWLzEwNjYzMTAwMl0nLCAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMS4xOyBBU1VTIENocm9tZWJvb2sgRmxpcCBDMzAyIEJ1aWxkL1I3MC0xMTAyMS41Ni4wOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzcwLjAuMzUzOC44MCBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzE5OC4wLjAuNTMuMTAxO10nXSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHBhc3MxID0gbmFtZS5sb3dlcigpLnNwbGl0KCcgJylbMF0gKyAnMTIzNCcKICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICBwYXJhbXMgPSB7J2FjY2Vzc190b2tlbic6ICczNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsICdmb3JtYXQnOiAnSlNPTicsICdzZGtfdmVyc2lvbic6ICcyJywgJ2VtYWlsJzogdWlkLCAnbG9jYWxlJzogJ2VuX1VTJywgJ3Bhc3N3b3JkJzogcGFzczEsICdzZGsnOiAnaW9zJywgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywgJ3NpZyc6ICczZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNid9CiAgICAgICAgICAgIGhlYWRlcnNfID0geyd4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgJ3gtZmItc2ltLWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItbmV0LWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItY29ubmVjdGlvbi1xdWFsaXR5JzogJ0VYQ0VMTEVOVCcsICd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICdjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEnLCAndXNlci1hZ2VudCc6IF9EVVJMT1ZFdWEsICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgJ3gtZmItaHR0cC1lbmdpbmUnOiAnTGlnZXInfQogICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZGF0YS50ZXh0IGFuZCAnRUFBQScgaW4gZGF0YS50ZXh0OgogICAgICAgICAgICAgICAgcHJpbnQgJyBceDFiWzE7MzJtW0RVUkxPVkUtT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxICsgJ1x4MWJbMDs5N20nCiAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczEpCiAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGRhdGEuanNvbigpWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMzbVtEVVJMT1ZFLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMSArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzMSArICdcbicpCiAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MxKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcGFzczIgPSBuYW1lLmxvd2VyKCkuc3BsaXQoJyAnKVswXSArICcxMjMnCiAgICAgICAgICAgICAgICBhcGkgPSAnaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4nCiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7J2FjY2Vzc190b2tlbic6ICczNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsICdmb3JtYXQnOiAnSlNPTicsICdzZGtfdmVyc2lvbic6ICcyJywgJ2VtYWlsJzogdWlkLCAnbG9jYWxlJzogJ2VuX1VTJywgJ3Bhc3N3b3JkJzogcGFzczIsICdzZGsnOiAnaW9zJywgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywgJ3NpZyc6ICczZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNid9CiAgICAgICAgICAgICAgICBoZWFkZXJzXyA9IHsneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICd4LWZiLXNpbS1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywgJ3VzZXItYWdlbnQnOiBfRFVSTE9WRXVhLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KICAgICAgICAgICAgICAgIGRhdGEgPSByZXF1ZXN0cy5nZXQoYXBpLCBwYXJhbXM9cGFyYW1zLCBoZWFkZXJzPWhlYWRlcnNfKQogICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZGF0YS50ZXh0IGFuZCAnRUFBQScgaW4gZGF0YS50ZXh0OgogICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMybVtEVVJMT1ZFLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMiArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgIG9rID0gb3Blbignb2sudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3MyICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMikKICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGRhdGEuanNvbigpWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszM21bRFVSTE9WRS1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczIgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ2NwLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzMiArICdcbicpCiAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHBhc3MzID0gbmFtZS5sb3dlcigpLnNwbGl0KCcgJylbMF0gKyAnMTInCiAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsnYWNjZXNzX3Rva2VuJzogJzM1MDY4NTUzMTcyOCU3QzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywgJ2Zvcm1hdCc6ICdKU09OJywgJ3Nka192ZXJzaW9uJzogJzInLCAnZW1haWwnOiB1aWQsICdsb2NhbGUnOiAnZW5fVVMnLCAncGFzc3dvcmQnOiBwYXNzMywgJ3Nkayc6ICdpb3MnLCAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzogJzEnLCAnc2lnJzogJzNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2J30KICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXyA9IHsneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICd4LWZiLXNpbS1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywgJ3VzZXItYWdlbnQnOiBfRFVSTE9WRXVhLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBkYXRhLnRleHQgYW5kICdFQUFBJyBpbiBkYXRhLnRleHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMybVtEVVJMT1ZFLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMyArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJ3wnICsgcGFzczMgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczMpCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gZGF0YS5qc29uKClbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszM21bRFVSTE9WRS1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczMgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICd8JyArIHBhc3MzICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MzKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M0ID0gbmFtZS5sb3dlcigpLnNwbGl0KCcgJylbMV0gKyAnMTIzNCcKICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSB7J2FjY2Vzc190b2tlbic6ICczNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsICdmb3JtYXQnOiAnSlNPTicsICdzZGtfdmVyc2lvbic6ICcyJywgJ2VtYWlsJzogdWlkLCAnbG9jYWxlJzogJ2VuX1VTJywgJ3Bhc3N3b3JkJzogcGFzczQsICdzZGsnOiAnaW9zJywgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywgJ3NpZyc6ICczZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNid9CiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNfID0geyd4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgJ3gtZmItc2ltLWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItbmV0LWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItY29ubmVjdGlvbi1xdWFsaXR5JzogJ0VYQ0VMTEVOVCcsICd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICdjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEnLCAndXNlci1hZ2VudCc6IF9EVVJMT1ZFdWEsICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgJ3gtZmItaHR0cC1lbmdpbmUnOiAnTGlnZXInfQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZGF0YS50ZXh0IGFuZCAnRUFBQScgaW4gZGF0YS50ZXh0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyBceDFiWzE7MzJtW1NOSUdESE8tT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0ICsgJ1x4MWJbMDs5N20nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGRhdGEuanNvbigpWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMzbVtTTklHREhPLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNCArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNCArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M0KQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczUgPSBuYW1lLmxvd2VyKCkuc3BsaXQoJyAnKVsxXSArICcxMjMnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSAnaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSB7J2FjY2Vzc190b2tlbic6ICczNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsICdmb3JtYXQnOiAnSlNPTicsICdzZGtfdmVyc2lvbic6ICcyJywgJ2VtYWlsJzogdWlkLCAnbG9jYWxlJzogJ2VuX1VTJywgJ3Bhc3N3b3JkJzogcGFzczUsICdzZGsnOiAnaW9zJywgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywgJ3NpZyc6ICczZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNid9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXyA9IHsneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICd4LWZiLXNpbS1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywgJ3VzZXItYWdlbnQnOiBfRFVSTE9WRXVhLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZXF1ZXN0cy5nZXQoYXBpLCBwYXJhbXM9cGFyYW1zLCBoZWFkZXJzPWhlYWRlcnNfKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZGF0YS50ZXh0IGFuZCAnRUFBQScgaW4gZGF0YS50ZXh0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMybVtTTklHREhPLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNSArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3Blbignb2sudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3M1ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGRhdGEuanNvbigpWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszM21bU05JR0RITy1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczUgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ2NwLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNSArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M2ID0gbmFtZS5sb3dlcigpLnNwbGl0KCcgJylbMV0gKyAnMTInCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsnYWNjZXNzX3Rva2VuJzogJzM1MDY4NTUzMTcyOCU3QzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywgJ2Zvcm1hdCc6ICdKU09OJywgJ3Nka192ZXJzaW9uJzogJzInLCAnZW1haWwnOiB1aWQsICdsb2NhbGUnOiAnZW5fVVMnLCAncGFzc3dvcmQnOiBwYXNzNiwgJ3Nkayc6ICdpb3MnLCAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzogJzEnLCAnc2lnJzogJzNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2J30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXyA9IHsneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICd4LWZiLXNpbS1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywgJ3VzZXItYWdlbnQnOiBfRFVSTE9WRXVhLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBkYXRhLnRleHQgYW5kICdFQUFBJyBpbiBkYXRhLnRleHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMybVtTTklHREhPLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNiArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJ3wnICsgcGFzczYgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gZGF0YS5qc29uKClbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszM21bU05JR0RITy1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczYgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICd8JyArIHBhc3M2ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M3ID0gbmFtZS5sb3dlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaSA9ICdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0geydhY2Nlc3NfdG9rZW4nOiAnMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInLCAnZm9ybWF0JzogJ0pTT04nLCAnc2RrX3ZlcnNpb24nOiAnMicsICdlbWFpbCc6IHVpZCwgJ2xvY2FsZSc6ICdlbl9VUycsICdwYXNzd29yZCc6IHBhc3M3LCAnc2RrJzogJ2lvcycsICdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOiAnMScsICdzaWcnOiAnM2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXyA9IHsneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICd4LWZiLXNpbS1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywgJ3VzZXItYWdlbnQnOiBfRFVSTE9WRXVhLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldChhcGksIHBhcmFtcz1wYXJhbXMsIGhlYWRlcnM9aGVhZGVyc18pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGRhdGEudGV4dCBhbmQgJ0VBQUEnIGluIGRhdGEudGV4dDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMybVtTTklHREhPLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNyArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdvay50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M3KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBkYXRhLmpzb24oKVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszM21bRFVSTE9WRS1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczcgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignY3AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczcgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M4ID0gbmFtZS5sb3dlcigpLnNwbGl0KCcgJylbMF0gKyBuYW1lLmxvd2VyKCkuc3BsaXQoJyAnKVsxXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0geydhY2Nlc3NfdG9rZW4nOiAnMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInLCAnZm9ybWF0JzogJ0pTT04nLCAnc2RrX3ZlcnNpb24nOiAnMicsICdlbWFpbCc6IHVpZCwgJ2xvY2FsZSc6ICdlbl9VUycsICdwYXNzd29yZCc6IHBhc3M4LCAnc2RrJzogJ2lvcycsICdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOiAnMScsICdzaWcnOiAnM2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc18gPSB7J3gtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgnOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAwMDAuMCwgMzAwMDAwMDAuMCkpLCAneC1mYi1zaW0taG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCAneC1mYi1uZXQtaG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCAneC1mYi1jb25uZWN0aW9uLXF1YWxpdHknOiAnRVhDRUxMRU5UJywgJ3gtZmItY29ubmVjdGlvbi10eXBlJzogJ2NlbGwuQ1RSYWRpb0FjY2Vzc1RlY2hub2xvZ3lIU0RQQScsICd1c2VyLWFnZW50JzogX0RVUkxPVkV1YSwgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCAneC1mYi1odHRwLWVuZ2luZSc6ICdMaWdlcid9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGRhdGEudGV4dCBhbmQgJ0VBQUEnIGluIGRhdGEudGV4dDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszMm1bU05JR0RITy1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczggKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzOCArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBkYXRhLmpzb24oKVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyBceDFiWzE7MzNtW1NOSUdESE8tQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M4ICsgJ1x4MWJbMDs5N20nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczggKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M4KQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKICAgIHAgPSBUaHJlYWRQb29sKDMwKQogICAgcC5tYXAobWFpbiwgaWQpCiAgICBwcmludCAnJwogICAgbGluZXgoKQogICAgcHJpbnQgJycKICAgIHByaW50ICdceDFiWzkyOzFtIFRIRSBQUk9DRVNTIEhBUyBCRUVOIENPTVBMRVRFRCcKICAgIHByaW50ICdceDFiWzkzOzFtIFRPVEFMIFx4MWJbOTI7MW1PS1x4MWJbOTM7MW0vXHgxYls5MTsxbUNQOiAnICsgc3RyKGxlbihva3MpKSArICcvJyArIHN0cihsZW4oY3BzKSkKICAgIHByaW50ICcnCiAgICBsaW5leCgpCiAgICBwcmludCAnJwogICAgcmF3X2lucHV0KCdceDFiWzkzOzFtIFBSRVNTIEVOVEVSIFRPIEJBQ0sgJykKICAgIG1lbnUoKQoKCmRlZiBjcmFjaygpOgogICAgZ2xvYmFsIHRva2VuCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHRyeToKICAgICAgICB0b2tlbiA9IG9wZW4oJ1NOSUdESE9fdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0XHgxYls5MTsxbSAgVE9LRU4gTk9UIEZPVU5EICcKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgZmJfdG9rZW4oKQoKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgbG9nbygpCiAgICBwcmludCAnJwogICAgcHJpbnQgJ1x0XHgxYls5MzsxbSAgRElHSVQgUEFTUyBDUkFDS0lORycKICAgIHByaW50ICcnCiAgICBwcmludCAnXHgxYls5NDsxbSAgWzFdIENSQUNLIFBVQkxJQyBJRCcKICAgIHByaW50ICdceDFiWzkzOzFtICBbMl0gQ1JBQ0sgRk9MTE9XRVJTJwogICAgcHJpbnQgJ1x4MWJbOTI7MW0gIFszXSBDUkFDSyBGSUxFJwogICAgcHJpbnQgJycKICAgIGNyYWNrX3NlbGVjdCgpCgoKZGVmIGNyYWNrX3NlbGVjdCgpOgogICAgc2VsZWN0ID0gcmF3X2lucHV0KCdceDFiWzkyOzFtICBDSE9PU0UgOiAnKQogICAgaWQgPSBbXQogICAgb2tzID0gW10KICAgIGNwcyA9IFtdCiAgICBpZiBzZWxlY3QgPT0gJzEnOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIGxvZ28oKQogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0XHgxYls5MzsxbSAgRElHSVQgUEFTUyBDUkFDS0lORycKICAgICAgICBwcmludCAnJwogICAgICAgIHRyeToKICAgICAgICAgICAgaWRfbGltaXQgPSBpbnQocmF3X2lucHV0KCdceDFiWzkzOzFtICBFTlRFUiBMSU1JVCAoXHgxYls5MTsxbTUgTUFYXHgxYls5MzsxbSk6IFx4MWJbOTI7MW0nKSkKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGlkX2xpbWl0ID0gMQoKICAgICAgICBmb3IgdCBpbiByYW5nZShpZF9saW1pdCk6CiAgICAgICAgICAgIHQgKz0gMQogICAgICAgICAgICBpZHQgPSByYXdfaW5wdXQoJ1x4MWJbOTM7MW0gIElOUFVUIFBVQkxJQyBJRCAoXHgxYls5MjsxbSVzXHgxYls5MzsxbSkgOiBceDFiWzkyOzFtJyAlIHQpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGZvciBpIGluIHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKS5qc29uKClbJ2RhdGEnXToKICAgICAgICAgICAgICAgICAgICB1aWQgPSBpWydpZCddLmVuY29kZSgndXRmLTgnKQogICAgICAgICAgICAgICAgICAgIG5hID0gaVsnbmFtZSddLmVuY29kZSgndXRmLTgnKQogICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkKCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzkxOzFtICBQUklWQVRFIEZSSUVORCBMSVNUIFRSWSBBTk9USEVSIE9ORScKCiAgICAgICAgICAgIHByaW50ICdceDFiWzk0OzFtICBUT1RBTCBJRFMgIDogXHgxYlswOzkybSVzXHgxYlswOzk3bScgJSBsZW4oaWQpCgogICAgICAgIHRpbWUuc2xlZXAoMykKICAgIGVsaWYgc2VsZWN0ID09ICcyJzoKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBsb2dvKCkKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICdcdFx4MWJbOTM7MW0gIERJR0lUIFBBU1MgQ1JBQ0tJTkcnCiAgICAgICAgcHJpbnQgJycKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlkX2xpbWl0ID0gaW50KHJhd19pbnB1dCgnXHgxYls5MzsxbSAgRU5URVIgTElNSVQgKFx4MWJbOTE7MW01IE1BWFx4MWJbOTM7MW0pOiBceDFiWzkyOzFtJykpCiAgICAgICAgICAgIHByaW50ICcnCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBpZF9saW1pdCA9IDEKCiAgICAgICAgZm9yIHQgaW4gcmFuZ2UoaWRfbGltaXQpOgogICAgICAgICAgICB0ICs9IDEKICAgICAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdceDFiWzkzOzFtICBJTlBVVCBGT0xMT1dFUiBJRCAoXHgxYls5MjsxbSVzXHgxYls5MzsxbSkgOiBceDFiWzkyOzFtJyAlIHQpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGZvciBpIGluIHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbiArICcmbGltaXQ9OTk5OTk5JykuanNvbigpWydkYXRhJ106CiAgICAgICAgICAgICAgICAgICAgdWlkID0gaVsnaWQnXS5lbmNvZGUoJ3V0Zi04JykKICAgICAgICAgICAgICAgICAgICBuYSA9IGlbJ25hbWUnXS5lbmNvZGUoJ3V0Zi04JykKICAgICAgICAgICAgICAgICAgICBpZC5hcHBlbmQodWlkICsgJ3wnICsgbmEpCgogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICBwcmludCAnXHgxYls5MTsxbSAgUFJJVkFURSBGUklFTkQgTElTVCBUUlkgQU5PVEhFUiBPTkUnCgogICAgICAgICAgICBwcmludCAnXHgxYls5NDsxbSAgVE9UQUwgSURTICA6IFx4MWJbMDs5Mm0lc1x4MWJbMDs5N20nICUgbGVuKGlkKQoKICAgICAgICB0aW1lLnNsZWVwKDMpCiAgICBlbGlmIHNlbGVjdCA9PSAnMyc6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgbG9nbygpCiAgICAgICAgcHJpbnQgJycKICAgICAgICBwcmludCAnXHRceDFiWzkzOzFtICBESUdJVCBQQVNTIENSQUNLSU5HJwogICAgICAgIHByaW50ICcnCiAgICAgICAgZmlsZWxpc3QgPSByYXdfaW5wdXQoJ1x4MWJbOTI7MW0gIElOUFVUIEZJTEU6ICcpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmb3IgbGluZSBpbiBvcGVuKGZpbGVsaXN0LCAncicpLnJlYWRsaW5lcygpOgogICAgICAgICAgICAgICAgaWQuYXBwZW5kKGxpbmUuc3RyaXAoKSkKCiAgICAgICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgICAgIHByaW50ICdcdFx4MWJbOTE7MW0gIFJFUVVFU1RFRCBGSUxFIE5PVCBGT1VORCcKICAgICAgICAgICAgcHJpbnQgJycKICAgICAgICAgICAgcmF3X2lucHV0KCdceDFiWzkzOzFtIFBSRVNTIEVOVEVSIFRPIEJBQ0snKQogICAgICAgICAgICBjcmFjaygpCgogICAgZWxpZiBzZWxlY3QgPT0gJzAnOgogICAgICAgIG1lbnUoKQogICAgZWxzZToKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICdcdFx4MWJbOTE7MW0gIFNFTEVDVCBWQUxJRCBPUFRJT04nCiAgICAgICAgcHJpbnQgJycKICAgICAgICBjcmFja19zZWxlY3QoKQogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBsb2dvKCkKICAgIHByaW50ICcnCiAgICBwcmludCAnXHgxYls5MzsxbSAgVE9UQUwgSURTIDogXHgxYls5MjsxbScgKyBzdHIobGVuKGlkKSkKICAgIHByaW50ICdceDFiWzkyOzFtICBCUlVURSBIQVMgQkVFTiBTVEFSVEVEXHgxYlswbScKICAgIHByaW50ICdceDFiWzk0OzFtICBXQUlUIEFORCBTRUUgXHgxYls5MjsxbVx4ZTJceDljXHg5OFx4MWJbOTE7MW1ceGUyXHg5Y1x4OThceDFiWzBtJwogICAgbGluZXgoKQoKICAgIGRlZiBtYWluKGFyZyk6CiAgICAgICAgdXNlciA9IGFyZwogICAgICAgIHVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoJ3wnKQogICAgICAgIF9EVVJMT1ZFdWEgPSByYW5kb20uY2hvaWNlKFsnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBSZWRtaSBOb3RlIDggUHJvIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84My4wLjQxMDMuMTA2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzI3NS4wLjAuNDkuMTI3O10nLCAnW0ZCQU4vRkI0QTtGQkFWLzI0Ni4wLjAuNDkuMTIxO0ZCQlYvMTgxNDQ4NDQ5O0ZCRE0ve2RlbnNpdHk9MS41LHdpZHRoPTU0MCxoZWlnaHQ9OTYwfTtGQkxDL2VuX1VTO0ZCUlYvMTgzMTE5NTE2O0ZCQ1IvVE07RkJNRi92aXZvO0ZCQkQvdml2bztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi92aXZvIDE2MDY7RkJTVi82LjAuMTtGQk9QLzE7RkJDQS9hcm1lYWJpLXY3YTphcm1lYWJpO10nLCAnRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA1LjEuMTsgU00tSjMyMEYgQnVpbGQvTE1ZNDdWKSBbRkJBTi9GQjRBO0ZCQVYvNDMuMC4wLjI5LjE0NztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJMQy9lbl9HQjtGQkJWLzE0Mjc0MTYxO0ZCQ1IvVGVsZTIgTFQ7RkJNRi9zYW1zdW5nO0ZCQkQvc2Ftc3VuZztGQkRWL1NNLUozMjBGO0ZCU1YvNS4wO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD0xMDgwLGhlaWdodD0xOTIwfTtGQl9GVy8xO10nLCAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMS4xOyBBMzdmIEJ1aWxkL0xNWTQ3Vjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTUyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzMwNS4xLjAuNDAuMTIwO10nLCAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBSRUFMTUUgUk1YMTkxMSBCdWlsZC9OTUYyNkYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Ni4wLjM4MDkuMTExIE1vYmlsZSBTYWZhcmkvNTM3LjM2IEFsb2hhQnJvd3Nlci8yLjIwLjMnLCAnTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxMV8zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlLzE1RTIxNiBbRkJBTi9GQklPUztGQkFWLzE3MC4wLjAuNjAuOTE7RkJCVi8xMDU5NjQ3NjQ7RkJEVi9pUGhvbmUxMCwxO0ZCTUQvaVBob25lO0ZCU04vaU9TO0ZCU1YvMTEuMztGQlNTLzI7RkJDUi9TcHJpbnQ7RkJJRC9waG9uZTtGQkxDL2VuX1VTO0ZCT1AvNTtGQlJWLzEwNjYzMTAwMl0nLCAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMS4xOyBBU1VTIENocm9tZWJvb2sgRmxpcCBDMzAyIEJ1aWxkL1I3MC0xMTAyMS41Ni4wOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzcwLjAuMzUzOC44MCBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzE5OC4wLjAuNTMuMTAxO10nXSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHBhc3MxID0gJzEwMjAzMCcKICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICBwYXJhbXMgPSB7J2FjY2Vzc190b2tlbic6ICczNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsICdmb3JtYXQnOiAnSlNPTicsICdzZGtfdmVyc2lvbic6ICcyJywgJ2VtYWlsJzogdWlkLCAnbG9jYWxlJzogJ2VuX1VTJywgJ3Bhc3N3b3JkJzogcGFzczEsICdzZGsnOiAnaW9zJywgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywgJ3NpZyc6ICczZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNid9CiAgICAgICAgICAgIGhlYWRlcnNfID0geyd4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgJ3gtZmItc2ltLWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItbmV0LWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItY29ubmVjdGlvbi1xdWFsaXR5JzogJ0VYQ0VMTEVOVCcsICd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICdjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEnLCAndXNlci1hZ2VudCc6IF9EVVJMT1ZFdWEsICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgJ3gtZmItaHR0cC1lbmdpbmUnOiAnTGlnZXInfQogICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZGF0YS50ZXh0IGFuZCAnRUFBQScgaW4gZGF0YS50ZXh0OgogICAgICAgICAgICAgICAgcHJpbnQgJyBceDFiWzE7MzJtW1NOSUdESE8tT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxICsgJ1x4MWJbMDs5N20nCiAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczEpCiAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGRhdGEuanNvbigpWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMzbVtTTklHREhPLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMSArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzMSArICdcbicpCiAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MxKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcGFzczIgPSAnMjIzMzQ0JwogICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgcGFyYW1zID0geydhY2Nlc3NfdG9rZW4nOiAnMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInLCAnZm9ybWF0JzogJ0pTT04nLCAnc2RrX3ZlcnNpb24nOiAnMicsICdlbWFpbCc6IHVpZCwgJ2xvY2FsZSc6ICdlbl9VUycsICdwYXNzd29yZCc6IHBhc3MyLCAnc2RrJzogJ2lvcycsICdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOiAnMScsICdzaWcnOiAnM2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnfQogICAgICAgICAgICAgICAgaGVhZGVyc18gPSB7J3gtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgnOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAwMDAuMCwgMzAwMDAwMDAuMCkpLCAneC1mYi1zaW0taG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCAneC1mYi1uZXQtaG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCAneC1mYi1jb25uZWN0aW9uLXF1YWxpdHknOiAnRVhDRUxMRU5UJywgJ3gtZmItY29ubmVjdGlvbi10eXBlJzogJ2NlbGwuQ1RSYWRpb0FjY2Vzc1RlY2hub2xvZ3lIU0RQQScsICd1c2VyLWFnZW50JzogX0RVUkxPVkV1YSwgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCAneC1mYi1odHRwLWVuZ2luZSc6ICdMaWdlcid9CiAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGRhdGEudGV4dCBhbmQgJ0VBQUEnIGluIGRhdGEudGV4dDoKICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszMm1bU05JR0RITy1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczIgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzMiArICdcbicpCiAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczIpCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBkYXRhLmpzb24oKVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyBceDFiWzE7MzNtW1NOSUdESE8tQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyICsgJ1x4MWJbMDs5N20nCiAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczIgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MyKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwYXNzMyA9ICc1NTY2NzcnCiAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsnYWNjZXNzX3Rva2VuJzogJzM1MDY4NTUzMTcyOCU3QzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywgJ2Zvcm1hdCc6ICdKU09OJywgJ3Nka192ZXJzaW9uJzogJzInLCAnZW1haWwnOiB1aWQsICdsb2NhbGUnOiAnZW5fVVMnLCAncGFzc3dvcmQnOiBwYXNzMywgJ3Nkayc6ICdpb3MnLCAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzogJzEnLCAnc2lnJzogJzNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2J30KICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXyA9IHsneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICd4LWZiLXNpbS1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywgJ3VzZXItYWdlbnQnOiBfRFVSTE9WRXVhLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBkYXRhLnRleHQgYW5kICdFQUFBJyBpbiBkYXRhLnRleHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMybVtTTklHREhPLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMyArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJ3wnICsgcGFzczMgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczMpCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gZGF0YS5qc29uKClbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszM21bU05JR0RITy1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczMgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICd8JyArIHBhc3MzICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MzKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M0ID0gJzc4Njc4NicKICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSB7J2FjY2Vzc190b2tlbic6ICczNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsICdmb3JtYXQnOiAnSlNPTicsICdzZGtfdmVyc2lvbic6ICcyJywgJ2VtYWlsJzogdWlkLCAnbG9jYWxlJzogJ2VuX1VTJywgJ3Bhc3N3b3JkJzogcGFzczQsICdzZGsnOiAnaW9zJywgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywgJ3NpZyc6ICczZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNid9CiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNfID0geyd4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgJ3gtZmItc2ltLWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItbmV0LWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItY29ubmVjdGlvbi1xdWFsaXR5JzogJ0VYQ0VMTEVOVCcsICd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICdjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEnLCAndXNlci1hZ2VudCc6IF9EVVJMT1ZFdWEsICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgJ3gtZmItaHR0cC1lbmdpbmUnOiAnTGlnZXInfQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZGF0YS50ZXh0IGFuZCAnRUFBQScgaW4gZGF0YS50ZXh0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyBceDFiWzE7MzJtW1NOSUdESE8tT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0ICsgJ1x4MWJbMDs5N20nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGRhdGEuanNvbigpWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMzbVtTTklHREhPLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNCArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNCArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M0KQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczUgPSAnMTIzNDU2JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0geydhY2Nlc3NfdG9rZW4nOiAnMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInLCAnZm9ybWF0JzogJ0pTT04nLCAnc2RrX3ZlcnNpb24nOiAnMicsICdlbWFpbCc6IHVpZCwgJ2xvY2FsZSc6ICdlbl9VUycsICdwYXNzd29yZCc6IHBhc3M1LCAnc2RrJzogJ2lvcycsICdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOiAnMScsICdzaWcnOiAnM2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc18gPSB7J3gtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgnOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAwMDAuMCwgMzAwMDAwMDAuMCkpLCAneC1mYi1zaW0taG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCAneC1mYi1uZXQtaG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCAneC1mYi1jb25uZWN0aW9uLXF1YWxpdHknOiAnRVhDRUxMRU5UJywgJ3gtZmItY29ubmVjdGlvbi10eXBlJzogJ2NlbGwuQ1RSYWRpb0FjY2Vzc1RlY2hub2xvZ3lIU0RQQScsICd1c2VyLWFnZW50JzogX0RVUkxPVkV1YSwgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCAneC1mYi1odHRwLWVuZ2luZSc6ICdMaWdlcid9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGRhdGEudGV4dCBhbmQgJ0VBQUEnIGluIGRhdGEudGV4dDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszMm1bU05JR0RITy1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczUgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNSArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBkYXRhLmpzb24oKVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyBceDFiWzE7MzNtW1NOSUdESE8tQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M1ICsgJ1x4MWJbMDs5N20nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJ3wnICsgcGFzczUgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzNiA9ICcxMTIyMzMnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsnYWNjZXNzX3Rva2VuJzogJzM1MDY4NTUzMTcyOCU3QzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywgJ2Zvcm1hdCc6ICdKU09OJywgJ3Nka192ZXJzaW9uJzogJzInLCAnZW1haWwnOiB1aWQsICdsb2NhbGUnOiAnZW5fVVMnLCAncGFzc3dvcmQnOiBwYXNzNiwgJ3Nkayc6ICdpb3MnLCAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzogJzEnLCAnc2lnJzogJzNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2J30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXyA9IHsneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICd4LWZiLXNpbS1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywgJ3VzZXItYWdlbnQnOiBfRFVSTE9WRXVhLCAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBkYXRhLnRleHQgYW5kICdFQUFBJyBpbiBkYXRhLnRleHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMybVtTTklHREhPLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNiArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJ3wnICsgcGFzczYgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gZGF0YS5qc29uKClbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnIFx4MWJbMTszM21bU05JR0RITy1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczYgKyAnXHgxYlswOzk3bScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICd8JyArIHBhc3M2ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M3ID0gJzEyMzM1Njc4OScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSB7J2FjY2Vzc190b2tlbic6ICczNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicsICdmb3JtYXQnOiAnSlNPTicsICdzZGtfdmVyc2lvbic6ICcyJywgJ2VtYWlsJzogdWlkLCAnbG9jYWxlJzogJ2VuX1VTJywgJ3Bhc3N3b3JkJzogcGFzczcsICdzZGsnOiAnaW9zJywgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6ICcxJywgJ3NpZyc6ICczZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNid9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNfID0geyd4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgJ3gtZmItc2ltLWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItbmV0LWhuaSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgJ3gtZmItY29ubmVjdGlvbi1xdWFsaXR5JzogJ0VYQ0VMTEVOVCcsICd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICdjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEnLCAndXNlci1hZ2VudCc6IF9EVVJMT1ZFdWEsICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgJ3gtZmItaHR0cC1lbmdpbmUnOiAnTGlnZXInfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KGFwaSwgcGFyYW1zPXBhcmFtcywgaGVhZGVycz1oZWFkZXJzXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZGF0YS50ZXh0IGFuZCAnRUFBQScgaW4gZGF0YS50ZXh0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyBceDFiWzE7MzJtW1NOSUdESE8tT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M3ICsgJ1x4MWJbMDs5N20nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ29rLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICd8JyArIHBhc3M3ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGRhdGEuanNvbigpWydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICcgXHgxYlsxOzMzbVtTTklHREhPLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNyArICdceDFiWzA7OTdtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdjcC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnfCcgKyBwYXNzNyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M3KQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKICAgIHAgPSBUaHJlYWRQb29sKCkKICAgIHAubWFwKG1haW4sIGlkKQogICAgcHJpbnQgJycKICAgIGxpbmV4KCkKICAgIHByaW50ICcnCiAgICBwcmludCAnXHgxYls5MjsxbSBUSEUgUFJPQ0VTUyBIQVMgQkVFTiBDT01QTEVURUQnCiAgICBwcmludCAnXHgxYls5MzsxbSBUT1RBTCBceDFiWzkyOzFtT0tceDFiWzkzOzFtL1x4MWJbOTE7MW1DUDogJyArIHN0cihsZW4ob2tzKSkgKyAnLycgKyBzdHIobGVuKGNwcykpCiAgICBwcmludCAnJwogICAgbGluZXgoKQogICAgcHJpbnQgJycKICAgIHJhd19pbnB1dCgnXHgxYls5MzsxbSBQUkVTUyBFTlRFUiBUTyBCQUNLICcpCiAgICBtZW51KCkKCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgbWFpbigpCg=="))
